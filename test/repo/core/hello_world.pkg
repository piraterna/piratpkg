# Package meta data
PACKAGE_NAME=hello_world
PACKAGE_DESCRIPTION=Stable version of hello_world package for the piratpkg package manager.
PACKAGE_VERSION=1.0.0
PACKAGE_MAINTAINERS=John Doe <john.doe@example.com>, Jane Doe <jane.doe@example.com>

configure() {
    mkdir -p $PREFIX/etc/hello_world
    mkdir -p $PREFIX/bin
}

build() {
    echo "hello_world version 1.0.0" > hello_world.txt

    echo '#!/bin/sh' > hello_world.sh
    echo 'echo "hello_world package says hello from $0"' >> hello_world.sh
    chmod +x hello_world.sh
}

test() {
    [ -f hello_world.txt ] || { echo "Missing hello_world.txt"; exit 1; }
    [ -x hello_world.sh ] || { echo "hello_world.sh is not executable"; exit 1; }
}

install() {
    cp hello_world.txt $PREFIX/etc/hello_world/hello_world.txt
    cp hello_world.sh $PREFIX/bin/hello_world
}

uninstall() {
    rm -rf $PREFIX/etc/hello_world
    rm -f $PREFIX/bin/hello_world
}

post_install() {
    echo "Run 'hello_world' to see the greeting."
}
