# Package meta data
PACKAGE_NAME=pirat_test
PACKAGE_DESCRIPTION=Stable version of pirat_test package for the piratpkg package manager.
PACKAGE_VERSION=1.0.0
PACKAGE_MAINTAINERS=John Doe <john.doe@example.com>, Jane Doe <jane.doe@example.com>

configure() {
    mkdir -p $PREFIX/etc/pirat_test
    mkdir -p $PREFIX/bin
}

build() {
    echo "pirat_test version 1.0.0" > pirat_test.txt

    echo '#!/bin/sh' > pirat_test.sh
    echo 'echo "pirat_test package says hello from $0"' >> pirat_test.sh
    chmod +x pirat_test.sh
}

test() {
    [ -f pirat_test.txt ] || { echo "Missing pirat_test.txt"; exit 1; }
    [ -x pirat_test.sh ] || { echo "pirat_test.sh is not executable"; exit 1; }
}

install() {
    cp pirat_test.txt $PREFIX/etc/pirat_test/pirat_test.txt
    cp pirat_test.sh $PREFIX/bin/pirat_test
}

uninstall() {
    rm -rf $PREFIX/etc/pirat_test
    rm -f $PREFIX/bin/pirat_test
}

post_install() {
    echo "Run 'pirat_test' to see the greeting."
}
